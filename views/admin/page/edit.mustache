
<section class="px-8 pt-6 pb-8 mb-4" data-controller="page-editor">
  <form action="{{path}}" method="post" data-target="page-editor.form">
    <input type="hidden" name="_csrf_token" value="{{csrf.token}}" />
    <input type="hidden" name="_csrf_param" value="{{csrf.param}}" />
    <input type="hidden" name="content" value="" data-target="page-editor.content"/>
    <div class="mb-4">
      {{# error_message}}
        <p class="text-red-500 text-xs italic">{{error_message}}</p>
      {{/ error_message}}
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="title">
        标题
      </label>
      <input class="border py-2 px-2
                    w-full text-gray-700"
             value="{{page.title}}"
             name="title" type="text" placeholder="标题" />
    </div>
    <div class="mb-4">
      <div class="flex items-center">
        <div class="mr-5 w-48">
          <label class="block text-gray-700 text-sm font-bold mb-2" for="topic">
            主题
          </label>
          <div class="fake-select" data-controller="fake-select"
               data-target="fake-select.container"
               data-action="
                      resize@window->fake-select#closeSelect
                      click@window->fake-select#closeSelect
                      ">
            <select data-target="fake-select.select" name="topic">
              {{# topics}}
                {{# topics.selected}}
                  <option value="{{topics.id}}" selected>{{topics.title}}</option>
                {{/ topics.selected}}
                {{^ topics.selected}}
                  <option value="{{topics.id}}">{{topics.title}}</option>
                {{/ topics.selected}}
              {{/ topics}}
            </select>
          </div>
        </div>
        <div>
          <label class="block text-gray-700 text-sm font-bold mb-2" for="published">
            状态
          </label>
          <span>
            <input class="py-2 px-2"
                   value="true"
                   checked="{{page.published}}"
                   name="published" type="checkbox"/>
            发布
          </span>
        </div>
      </div>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="title">
        简介
      </label>
      <textarea rows="3" class="border py-2 px-2  w-full text-gray-700"
                name="intro" placeholder="简介">{{page.intro}}</textarea>
    </div>
  </form>
  <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="title">
        内容
      </label>

      <div >
        <div id="editor-container">
          {{{page.content}}}
        </div>
      </div>
  </div>
  <button data-action="click->page-editor#savePage">保存</button>
</section>


<style>
  #editor-container {
    height: 500px;
  }
</style>
